<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>SparkåŸºç¡€ç¯å¢ƒé…ç½® | Hexo</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.2.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Hexo</a></h1>
		<h2 class="header__subtitle"></h2>
	</header>

	<main>
		<article>
	
		<h1>SparkåŸºç¡€ç¯å¢ƒé…ç½®</h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-24</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/Spark/" rel="tag">Spark</a>
			</span>
		
	</div>

	

	
		<p>Welcome to visit!ğŸ¥° If there is any incorrect place in this article, you are welcome to correct it. Beginner onlyğŸ˜</p>
<h2 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h2><h3 id="å®Œæˆå¯¹è™šæ‹Ÿçš„ä¸»æœºåã€ç½‘å¡çš„è®¾ç½®"><a href="#å®Œæˆå¯¹è™šæ‹Ÿçš„ä¸»æœºåã€ç½‘å¡çš„è®¾ç½®" class="headerlink" title="å®Œæˆå¯¹è™šæ‹Ÿçš„ä¸»æœºåã€ç½‘å¡çš„è®¾ç½®"></a>å®Œæˆå¯¹è™šæ‹Ÿçš„ä¸»æœºåã€ç½‘å¡çš„è®¾ç½®</h3><table>
<thead>
<tr>
<th>ä¸»æœºå</th>
<th>node1.itcast.cn</th>
<th>node2.itcast.cn</th>
<th>node3.itcast.cn</th>
</tr>
</thead>
<tbody><tr>
<td>IP</td>
<td>192.168.88.151</td>
<td>192.168.88.152</td>
<td>192.168.88.153</td>
</tr>
<tr>
<td>ç”¨æˆ·åã€å¯†ç </td>
<td>root  123456</td>
<td>root  123456</td>
<td>root  123456</td>
</tr>
</tbody></table>
<h3 id="ç›¸å…³æ“ä½œ"><a href="#ç›¸å…³æ“ä½œ" class="headerlink" title="ç›¸å…³æ“ä½œ"></a>ç›¸å…³æ“ä½œ</h3><h4 id="æŸ¥çœ‹ä¸»æœºå"><a href="#æŸ¥çœ‹ä¸»æœºå" class="headerlink" title="æŸ¥çœ‹ä¸»æœºå"></a>æŸ¥çœ‹ä¸»æœºå</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/hostname</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥çœ‹hostsæ˜ å°„"><a href="#æŸ¥çœ‹hostsæ˜ å°„" class="headerlink" title="æŸ¥çœ‹hostsæ˜ å°„"></a>æŸ¥çœ‹hostsæ˜ å°„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/hosts</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"><a href="#æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€"></a>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld.service</span><br></pre></td></tr></table></figure>

<h4 id="ç™»é™†node1ã€node2ã€node3"><a href="#ç™»é™†node1ã€node2ã€node3" class="headerlink" title="ç™»é™†node1ã€node2ã€node3"></a>ç™»é™†node1ã€node2ã€node3</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh node1</span><br><span class="line">ssh node2</span><br><span class="line">ssh node3</span><br></pre></td></tr></table></figure>

<h4 id="åŒæ­¥æ—¶é—´"><a href="#åŒæ­¥æ—¶é—´" class="headerlink" title="åŒæ­¥æ—¶é—´"></a>åŒæ­¥æ—¶é—´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntpdate ntp5.aliyun.com</span><br></pre></td></tr></table></figure>

<h2 id="JDKé…ç½®"><a href="#JDKé…ç½®" class="headerlink" title="JDKé…ç½®"></a>JDKé…ç½®</h2><h3 id="ç¼–è¯‘ç¯å¢ƒè½¯ä»¶å®‰è£…ç›®å½•"><a href="#ç¼–è¯‘ç¯å¢ƒè½¯ä»¶å®‰è£…ç›®å½•" class="headerlink" title="ç¼–è¯‘ç¯å¢ƒè½¯ä»¶å®‰è£…ç›®å½•"></a>ç¼–è¯‘ç¯å¢ƒè½¯ä»¶å®‰è£…ç›®å½•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /export/server</span><br></pre></td></tr></table></figure>

<h3 id="JDKå¯¼å…¥-x2F-export-x2F-serverï¼Œè§£å‹"><a href="#JDKå¯¼å…¥-x2F-export-x2F-serverï¼Œè§£å‹" class="headerlink" title="JDKå¯¼å…¥&#x2F;export&#x2F;serverï¼Œè§£å‹"></a>JDKå¯¼å…¥&#x2F;export&#x2F;serverï¼Œè§£å‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u241-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶"><a href="#é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶" class="headerlink" title="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹-java-ç‰ˆæœ¬å·"><a href="#æŸ¥çœ‹-java-ç‰ˆæœ¬å·" class="headerlink" title="æŸ¥çœ‹ java ç‰ˆæœ¬å·"></a>æŸ¥çœ‹ java ç‰ˆæœ¬å·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

<h3 id="å°†javaæ‹·è´å¹¶ä¼ è¾“åˆ°æ‰€å±çš„node2å’Œnode3"><a href="#å°†javaæ‹·è´å¹¶ä¼ è¾“åˆ°æ‰€å±çš„node2å’Œnode3" class="headerlink" title="å°†javaæ‹·è´å¹¶ä¼ è¾“åˆ°æ‰€å±çš„node2å’Œnode3"></a>å°†javaæ‹·è´å¹¶ä¼ è¾“åˆ°æ‰€å±çš„node2å’Œnode3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/jdk1.8.0_241/ root@node2:/export/server/</span><br><span class="line">scp -r /export/server/jdk1.8.0_241/ root@node3:/export/server/</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®-node2-å’Œ-node3-çš„-JDK-ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šå’Œä¸Šæ–¹node1çš„é…ç½®æ–¹æ³•ä¸€æ ·ï¼‰"><a href="#é…ç½®-node2-å’Œ-node3-çš„-JDK-ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šå’Œä¸Šæ–¹node1çš„é…ç½®æ–¹æ³•ä¸€æ ·ï¼‰" class="headerlink" title="é…ç½® node2 å’Œ node3 çš„ JDK ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šå’Œä¸Šæ–¹node1çš„é…ç½®æ–¹æ³•ä¸€æ ·ï¼‰"></a>é…ç½® node2 å’Œ node3 çš„ JDK ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šå’Œä¸Šæ–¹node1çš„é…ç½®æ–¹æ³•ä¸€æ ·ï¼‰</h3><h3 id="åœ¨node1-node2-å’Œnode3-åˆ›å»ºè½¯è¿æ¥"><a href="#åœ¨node1-node2-å’Œnode3-åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="åœ¨node1 node2 å’Œnode3 åˆ›å»ºè½¯è¿æ¥"></a>åœ¨node1 node2 å’Œnode3 åˆ›å»ºè½¯è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server</span><br><span class="line">ln -s jdk1.8.0_241/ jdk</span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-1"><a href="#é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-1" class="headerlink" title="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h2 id="zookeeperå®‰è£…é…ç½®"><a href="#zookeeperå®‰è£…é…ç½®" class="headerlink" title="zookeeperå®‰è£…é…ç½®"></a>zookeeperå®‰è£…é…ç½®</h2><p>æ³¨ï¼šä¸‹æ–‡ä¸­masterã€slave1ã€slave2åˆ†åˆ«ä¸ºnode1ã€node2ã€node3</p>
<h3 id="é…ç½®ä¸»æœºåå’ŒIPçš„æ˜ å°„å…³ç³»ï¼Œä¿®æ”¹-x2F-etc-x2F-hosts-æ–‡ä»¶ï¼Œæ·»åŠ -master-root-slave1-root-slave2-root"><a href="#é…ç½®ä¸»æœºåå’ŒIPçš„æ˜ å°„å…³ç³»ï¼Œä¿®æ”¹-x2F-etc-x2F-hosts-æ–‡ä»¶ï¼Œæ·»åŠ -master-root-slave1-root-slave2-root" class="headerlink" title="é…ç½®ä¸»æœºåå’ŒIPçš„æ˜ å°„å…³ç³»ï¼Œä¿®æ”¹ &#x2F;etc&#x2F;hosts æ–‡ä»¶ï¼Œæ·»åŠ  master.root slave1.root slave2.root"></a>é…ç½®ä¸»æœºåå’ŒIPçš„æ˜ å°„å…³ç³»ï¼Œä¿®æ”¹ &#x2F;etc&#x2F;hosts æ–‡ä»¶ï¼Œæ·»åŠ  master.root slave1.root slave2.root</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line">#ç»“æœæ˜¾ç¤º</span><br><span class="line">127.0.0.1 localhost localhost.localdomain localhost4</span><br><span class="line">localhost4.localdomain4</span><br><span class="line">::1 localhost localhost.localdomain localhost6</span><br><span class="line">localhost6.localdomain6</span><br><span class="line">192.168.88.135 master master.root</span><br><span class="line">192.168.88.136 slave1 slave1.root</span><br><span class="line">192.168.88.137 slave2 slave2.root</span><br></pre></td></tr></table></figure>

<h3 id="zookeeperå®‰è£…-ä¸Šä¼ -zookeeper-3-4-10-tar-gzåˆ°-x2F-export-x2F-server-x2F-ç›®å½•ä¸‹-å¹¶è§£å‹æ–‡ä»¶"><a href="#zookeeperå®‰è£…-ä¸Šä¼ -zookeeper-3-4-10-tar-gzåˆ°-x2F-export-x2F-server-x2F-ç›®å½•ä¸‹-å¹¶è§£å‹æ–‡ä»¶" class="headerlink" title="zookeeperå®‰è£… ä¸Šä¼  zookeeper-3.4.10.tar.gzåˆ°&#x2F;export&#x2F;server&#x2F;ç›®å½•ä¸‹ å¹¶è§£å‹æ–‡ä»¶"></a>zookeeperå®‰è£… ä¸Šä¼  zookeeper-3.4.10.tar.gzåˆ°&#x2F;export&#x2F;server&#x2F;ç›®å½•ä¸‹ å¹¶è§£å‹æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/</span><br><span class="line">tar -zxvf zookeeper-3.4.10.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨-x2F-export-x2F-server-ç›®å½•ä¸‹åˆ›å»ºè½¯è¿æ¥"><a href="#åœ¨-x2F-export-x2F-server-ç›®å½•ä¸‹åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="åœ¨ &#x2F;export&#x2F;server ç›®å½•ä¸‹åˆ›å»ºè½¯è¿æ¥"></a>åœ¨ &#x2F;export&#x2F;server ç›®å½•ä¸‹åˆ›å»ºè½¯è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server</span><br><span class="line">ln -s zookeeper-3.4.10/ zookeeper</span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-x2F-conf-x2F-å°†-zoo-sample-cfg-æ–‡ä»¶å¤åˆ¶ä¸ºæ–°æ–‡ä»¶-zoo-cfg"><a href="#è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-x2F-conf-x2F-å°†-zoo-sample-cfg-æ–‡ä»¶å¤åˆ¶ä¸ºæ–°æ–‡ä»¶-zoo-cfg" class="headerlink" title="è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;conf&#x2F; å°† zoo_sample.cfg æ–‡ä»¶å¤åˆ¶ä¸ºæ–°æ–‡ä»¶ zoo.cfg"></a>è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;conf&#x2F; å°† zoo_sample.cfg æ–‡ä»¶å¤åˆ¶ä¸ºæ–°æ–‡ä»¶ zoo.cfg</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/conf/</span><br><span class="line">cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure>

<h3 id="æ¥ä¸Šæ­¥ç»™-zoo-cfg-æ·»åŠ å†…å®¹"><a href="#æ¥ä¸Šæ­¥ç»™-zoo-cfg-æ·»åŠ å†…å®¹" class="headerlink" title="æ¥ä¸Šæ­¥ç»™ zoo.cfg æ·»åŠ å†…å®¹"></a>æ¥ä¸Šæ­¥ç»™ zoo.cfg æ·»åŠ å†…å®¹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#Zookeeperçš„æ•°æ®å­˜æ”¾ç›®å½•</span><br><span class="line">dataDir=/export/server/zookeeper/zkdatas</span><br><span class="line"># ä¿ç•™å¤šå°‘ä¸ªå¿«ç…§</span><br><span class="line">autopurge.snapRetainCount=3</span><br><span class="line"># æ—¥å¿—å¤šå°‘å°æ—¶æ¸…ç†ä¸€æ¬¡</span><br><span class="line">autopurge.purgeInterval=1</span><br><span class="line"># é›†ç¾¤ä¸­æœåŠ¡å™¨åœ°å€</span><br><span class="line">server.1=master:2888:3888</span><br><span class="line">server.2=slave1:2888:3888</span><br><span class="line">server.3=slave2:2888:3888</span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-x2F-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-1-å†™å…¥è¿›å»"><a href="#è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-x2F-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-1-å†™å…¥è¿›å»" class="headerlink" title="è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 1 å†™å…¥è¿›å»"></a>è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 1 å†™å…¥è¿›å»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/zkdata</span><br><span class="line">touch myid</span><br><span class="line">echo &#x27;1&#x27; &gt; myid</span><br></pre></td></tr></table></figure>

<h3 id="å°†-master-èŠ‚ç‚¹ä¸­-x2F-export-x2F-server-x2F-zookeeper-3-4-10-è·¯å¾„ä¸‹å†…å®¹æ¨é€ç»™slave1-å’Œ-slave2"><a href="#å°†-master-èŠ‚ç‚¹ä¸­-x2F-export-x2F-server-x2F-zookeeper-3-4-10-è·¯å¾„ä¸‹å†…å®¹æ¨é€ç»™slave1-å’Œ-slave2" class="headerlink" title="å°† master èŠ‚ç‚¹ä¸­&#x2F;export&#x2F;server&#x2F;zookeeper-3.4.10 è·¯å¾„ä¸‹å†…å®¹æ¨é€ç»™slave1 å’Œ slave2"></a>å°† master èŠ‚ç‚¹ä¸­&#x2F;export&#x2F;server&#x2F;zookeeper-3.4.10 è·¯å¾„ä¸‹å†…å®¹æ¨é€ç»™slave1 å’Œ slave2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/zookeeper-3.4.10/ slave1:$PWD</span><br><span class="line">scp -r /export/server/zookeeper-3.4.10/ slave2:$PWD</span><br></pre></td></tr></table></figure>

<h3 id="æ¨é€æˆåŠŸåï¼Œåˆ†åˆ«åœ¨-slave1-å’Œ-slave2-ä¸Šåˆ›å»ºè½¯è¿æ¥"><a href="#æ¨é€æˆåŠŸåï¼Œåˆ†åˆ«åœ¨-slave1-å’Œ-slave2-ä¸Šåˆ›å»ºè½¯è¿æ¥" class="headerlink" title="æ¨é€æˆåŠŸåï¼Œåˆ†åˆ«åœ¨ slave1 å’Œ slave2 ä¸Šåˆ›å»ºè½¯è¿æ¥"></a>æ¨é€æˆåŠŸåï¼Œåˆ†åˆ«åœ¨ slave1 å’Œ slave2 ä¸Šåˆ›å»ºè½¯è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s zookeeper-3.4.10/ zookeeper</span><br></pre></td></tr></table></figure>

<h3 id="æ¥ä¸Šæ­¥æ¨é€å®Œæˆåå°†-slave1-å’Œ-slave2-çš„-x2F-export-x2F-server-x2F-zookeeper-x2F-zkdatas-x2F-æ–‡ä»¶å¤¹ä¸‹çš„-myid-ä¸­çš„å†…å®¹åˆ†åˆ«æ”¹ä¸º-2-å’Œ-3"><a href="#æ¥ä¸Šæ­¥æ¨é€å®Œæˆåå°†-slave1-å’Œ-slave2-çš„-x2F-export-x2F-server-x2F-zookeeper-x2F-zkdatas-x2F-æ–‡ä»¶å¤¹ä¸‹çš„-myid-ä¸­çš„å†…å®¹åˆ†åˆ«æ”¹ä¸º-2-å’Œ-3" class="headerlink" title="æ¥ä¸Šæ­¥æ¨é€å®Œæˆåå°† slave1 å’Œ slave2 çš„ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;zkdatas&#x2F; æ–‡ä»¶å¤¹ä¸‹çš„ myid ä¸­çš„å†…å®¹åˆ†åˆ«æ”¹ä¸º 2 å’Œ 3"></a>æ¥ä¸Šæ­¥æ¨é€å®Œæˆåå°† slave1 å’Œ slave2 çš„ &#x2F;export&#x2F;server&#x2F;zookeeper&#x2F;zkdatas&#x2F; æ–‡ä»¶å¤¹ä¸‹çš„ myid ä¸­çš„å†…å®¹åˆ†åˆ«æ”¹ä¸º 2 å’Œ 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/zkdatas/</span><br><span class="line">ç»“æœæ˜¾ç¤ºï¼š</span><br><span class="line">[root@slave1 zkdatas]# vim myid</span><br><span class="line">[root@slave1 zkdatas]# more myid</span><br><span class="line">2</span><br><span class="line">[root@slave2 zkdatas]# vim myid</span><br><span class="line">[root@slave2 zkdatas]# more myid</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šä¸‰å°ä¸»æœºéƒ½éœ€è¦é…ç½®ï¼‰"><a href="#é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šä¸‰å°ä¸»æœºéƒ½éœ€è¦é…ç½®ï¼‰" class="headerlink" title="é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šä¸‰å°ä¸»æœºéƒ½éœ€è¦é…ç½®ï¼‰"></a>é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡ï¼ˆæ³¨ï¼šä¸‰å°ä¸»æœºéƒ½éœ€è¦é…ç½®ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"># zookeeper ç¯å¢ƒå˜é‡</span><br><span class="line">export ZOOKEEPER_HOME=/export/server/zookeeper</span><br><span class="line">export PATH=$PATH:$ZOOKEEPER_HOME/bin</span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-2"><a href="#é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-2" class="headerlink" title="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-3-4-10-x2F-bin-ç›®å½•ä¸‹å¯åŠ¨-zkServer-sh-è„šæœ¬-ï¼ˆæ³¨ï¼šä¸‰å°éƒ½éœ€è¦åšï¼‰"><a href="#è¿›å…¥-x2F-export-x2F-server-x2F-zookeeper-3-4-10-x2F-bin-ç›®å½•ä¸‹å¯åŠ¨-zkServer-sh-è„šæœ¬-ï¼ˆæ³¨ï¼šä¸‰å°éƒ½éœ€è¦åšï¼‰" class="headerlink" title="è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper-3.4.10&#x2F;bin ç›®å½•ä¸‹å¯åŠ¨ zkServer.sh è„šæœ¬ ï¼ˆæ³¨ï¼šä¸‰å°éƒ½éœ€è¦åšï¼‰"></a>è¿›å…¥ &#x2F;export&#x2F;server&#x2F;zookeeper-3.4.10&#x2F;bin ç›®å½•ä¸‹å¯åŠ¨ zkServer.sh è„šæœ¬ ï¼ˆæ³¨ï¼šä¸‰å°éƒ½éœ€è¦åšï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper-3.4.10/bin</span><br><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç»“æœæ˜¾ç¤ºï¼š</span><br><span class="line">[root@master bin]# ./zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /export/server/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... STARTED</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹-zookeeper-çš„çŠ¶æ€"><a href="#æŸ¥çœ‹-zookeeper-çš„çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹ zookeeper çš„çŠ¶æ€"></a>æŸ¥çœ‹ zookeeper çš„çŠ¶æ€</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh status</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ç»“æœæ˜¾ç¤ºï¼š</span><br><span class="line">[root@master server]# zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /export/server/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">Mode: follower</span><br><span class="line">[root@slave1 server]# zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /export/server/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">Mode: follower</span><br><span class="line">[root@slave2 conf]# zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /export/server/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">Mode: leader</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ç»“æœæ˜¾ç¤ºï¼š</span><br><span class="line">[root@master server]# jps</span><br><span class="line">125348 QuorumPeerMain</span><br><span class="line">16311 Jps</span><br><span class="line">[root@slave1 server]# jps</span><br><span class="line">126688 QuorumPeerMain</span><br><span class="line">17685 Jps</span><br><span class="line">[root@slave2 conf]# jps</span><br><span class="line">126733 QuorumPeerMain</span><br><span class="line">17727 Jps</span><br></pre></td></tr></table></figure>

<h3 id="è„šæœ¬ä¸€é”®å¯åŠ¨"><a href="#è„šæœ¬ä¸€é”®å¯åŠ¨" class="headerlink" title="è„šæœ¬ä¸€é”®å¯åŠ¨"></a>è„šæœ¬ä¸€é”®å¯åŠ¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">vim zkServer.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">if [ $# -eq 0 ] ;</span><br><span class="line">then</span><br><span class="line">echo &quot;please input param:start stop&quot;</span><br><span class="line">else</span><br><span class="line">if [ $1 = start ] ;then</span><br><span class="line">echo &quot;$&#123;1&#125;ing master&quot;</span><br><span class="line">ssh master &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh</span><br><span class="line">start&quot;</span><br><span class="line">for i in &#123;1..2&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;$&#123;1&#125;ping slave$&#123;i&#125;&quot;</span><br><span class="line">ssh slave$&#123;i&#125; &quot;source</span><br><span class="line">/etc/profile;/export/server/zookeeper/bin/zkServer.sh start&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line">if [ $1 = stop ];then</span><br><span class="line">echo &quot;$&#123;1&#125;ping master &quot;</span><br><span class="line">ssh master &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh</span><br><span class="line">stop&quot;</span><br><span class="line">for i in &#123;1..2&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;$&#123;1&#125;ping slave$&#123;i&#125;&quot;</span><br><span class="line">ssh slave$&#123;i&#125; &quot;source</span><br><span class="line">/etc/profile;/export/server/zookeeper/bin/zkServer.sh stop&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line">if [ $1 = status ];then</span><br><span class="line">echo &quot;$&#123;1&#125;ing master&quot;</span><br><span class="line">ssh master &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh</span><br><span class="line">status&quot;</span><br><span class="line">for i in &#123;1..2&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;$&#123;1&#125;ping slave$&#123;i&#125;&quot;</span><br><span class="line">ssh slave$&#123;i&#125; &quot;source</span><br><span class="line">/etc/profile;/export/server/zookeeper/bin/zkServer.sh status&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å°†æ–‡ä»¶æ”¾åœ¨ /bin ç›®å½•ä¸‹</span><br><span class="line">chmod +x zkServer-all.sh &amp;&amp; zkServer-all.sh</span><br></pre></td></tr></table></figure>

<h2 id="Hadoop-å®‰è£…é…ç½®"><a href="#Hadoop-å®‰è£…é…ç½®" class="headerlink" title="Hadoop å®‰è£…é…ç½®"></a>Hadoop å®‰è£…é…ç½®</h2><h3 id="æŠŠ-hadoop-3-3-0-Centos7-64-with-snappy-tar-gz-ä¸Šä¼ åˆ°-x2F-export-x2F-server-å¹¶è§£å‹æ–‡ä»¶"><a href="#æŠŠ-hadoop-3-3-0-Centos7-64-with-snappy-tar-gz-ä¸Šä¼ åˆ°-x2F-export-x2F-server-å¹¶è§£å‹æ–‡ä»¶" class="headerlink" title="æŠŠ hadoop-3.3.0-Centos7-64-with-snappy.tar.gz ä¸Šä¼ åˆ° &#x2F;export&#x2F;server å¹¶è§£å‹æ–‡ä»¶"></a>æŠŠ hadoop-3.3.0-Centos7-64-with-snappy.tar.gz ä¸Šä¼ åˆ° &#x2F;export&#x2F;server å¹¶è§£å‹æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŠŠ hadoop-3.3.0-Centos7-64-with-snappy.tar.gz ä¸Šä¼ åˆ° /export/server å¹¶è§£å‹æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-è¿›å…¥è·¯å¾„-x2F-export-x2F-server-x2F-hadoop-3-3-0-x2F-etc-x2F-hadoop"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-è¿›å…¥è·¯å¾„-x2F-export-x2F-server-x2F-hadoop-3-3-0-x2F-etc-x2F-hadoop" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶(è¿›å…¥è·¯å¾„ &#x2F;export&#x2F;server&#x2F;hadoop-3.3.0&#x2F;etc&#x2F;hadoop)"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶(è¿›å…¥è·¯å¾„ &#x2F;export&#x2F;server&#x2F;hadoop-3.3.0&#x2F;etc&#x2F;hadoop)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/hadoop-3.3.0/etc/hadoop</span><br></pre></td></tr></table></figure>

<p>hadoop-env.sh</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#æ–‡ä»¶æœ€åæ·»åŠ  </span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241 export HDFS_NAMENODE_USER=root export HDFS_DATANODE_USER=root export HDFS_SECONDARYNAMENODE_USER=root export YARN_RESOURCEMANAGER_USER=root export YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></table></figure>

<p>core-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è®¾ç½®é»˜è®¤ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿ Hadoopæ”¯æŒfileã€HDFSã€GFSã€ali|Amazonäº‘ç­‰æ–‡ä»¶ç³»ç»Ÿ -</span><br><span class="line">-&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">&lt;value&gt;hdfs://master:8020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- è®¾ç½®Hadoopæœ¬åœ°ä¿å­˜æ•°æ®è·¯å¾„ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/export/data/hadoop-3.3.0&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- è®¾ç½®HDFS web UIç”¨æˆ·èº«ä»½ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;</span><br><span class="line">&lt;value&gt;root&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- æ•´åˆhive ç”¨æˆ·ä»£ç†è®¾ç½® --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;</span><br><span class="line">&lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;</span><br><span class="line">&lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- æ–‡ä»¶ç³»ç»Ÿåƒåœ¾æ¡¶ä¿å­˜æ—¶é—´ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.trash.interval&lt;/name&gt;</span><br><span class="line">&lt;value&gt;1440&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>hdfs-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è®¾ç½®SNNè¿›ç¨‹è¿è¡Œæœºå™¨ä½ç½®ä¿¡æ¯ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;slave1:9868&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>mapred-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è®¾ç½®MRç¨‹åºé»˜è®¤è¿è¡Œæ¨¡å¼ï¼š yarné›†ç¾¤æ¨¡å¼ localæœ¬åœ°æ¨¡å¼ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- MRç¨‹åºå†å²æœåŠ¡åœ°å€ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:10020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- MRç¨‹åºå†å²æœåŠ¡å™¨webç«¯åœ°å€ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:19888&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;</span><br><span class="line">&lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.map.env&lt;/name&gt;</span><br><span class="line">&lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.reduce.env&lt;/name&gt;</span><br><span class="line">&lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>yarn-site.xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è®¾ç½®YARNé›†ç¾¤ä¸»è§’è‰²è¿è¡Œæœºå™¨ä½ç½® --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- æ˜¯å¦å°†å¯¹å®¹å™¨å®æ–½ç‰©ç†å†…å­˜é™åˆ¶ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;</span><br><span class="line">&lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- æ˜¯å¦å°†å¯¹å®¹å™¨å®æ–½è™šæ‹Ÿå†…å­˜é™åˆ¶ã€‚ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;</span><br><span class="line">&lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- å¼€å¯æ—¥å¿—èšé›† --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;</span><br><span class="line">&lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- è®¾ç½®yarnå†å²æœåŠ¡å™¨åœ°å€ --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.log.server.url&lt;/name&gt;</span><br><span class="line">&lt;value&gt;http://master:19888/jobhistory/logs&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- å†å²æ—¥å¿—ä¿å­˜çš„æ—¶é—´ 7å¤© --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;</span><br><span class="line">&lt;value&gt;604800&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>workers</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure>

<h3 id="åˆ†å‘åŒæ­¥hadoopå®‰è£…åŒ…"><a href="#åˆ†å‘åŒæ­¥hadoopå®‰è£…åŒ…" class="headerlink" title="åˆ†å‘åŒæ­¥hadoopå®‰è£…åŒ…"></a>åˆ†å‘åŒæ­¥hadoopå®‰è£…åŒ…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server</span><br><span class="line">scp -r hadoop-3.3.0 root@slave1:$PWD</span><br><span class="line">scp -r hadoop-3.3.0 root@slave2:$PWD</span><br></pre></td></tr></table></figure>

<h3 id="å°†hadoopæ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#å°†hadoopæ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="å°†hadoopæ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>å°†hadoopæ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-3"><a href="#é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶-3" class="headerlink" title="é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶"></a>é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="Hadoopé›†ç¾¤å¯åŠ¨"><a href="#Hadoopé›†ç¾¤å¯åŠ¨" class="headerlink" title="Hadoopé›†ç¾¤å¯åŠ¨"></a>Hadoopé›†ç¾¤å¯åŠ¨</h3><h4 id="æ ¼å¼åŒ–namenodeï¼ˆåªæœ‰é¦–æ¬¡å¯åŠ¨éœ€è¦æ ¼å¼åŒ–ï¼‰"><a href="#æ ¼å¼åŒ–namenodeï¼ˆåªæœ‰é¦–æ¬¡å¯åŠ¨éœ€è¦æ ¼å¼åŒ–ï¼‰" class="headerlink" title="æ ¼å¼åŒ–namenodeï¼ˆåªæœ‰é¦–æ¬¡å¯åŠ¨éœ€è¦æ ¼å¼åŒ–ï¼‰"></a>æ ¼å¼åŒ–namenodeï¼ˆåªæœ‰é¦–æ¬¡å¯åŠ¨éœ€è¦æ ¼å¼åŒ–ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure>

<h4 id="è„šæœ¬ä¸€é”®å¯åŠ¨-1"><a href="#è„šæœ¬ä¸€é”®å¯åŠ¨-1" class="headerlink" title="è„šæœ¬ä¸€é”®å¯åŠ¨"></a>è„šæœ¬ä¸€é”®å¯åŠ¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# start-dfs.sh</span><br><span class="line">Starting namenodes on [master]</span><br><span class="line">ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 3æœˆ 11 21:27:24 CST 2022pts/0 ä¸Š</span><br><span class="line">Starting datanodes</span><br><span class="line">ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 3æœˆ 11 21:27:32 CST 2022pts/0 ä¸Š</span><br><span class="line">Starting secondary namenodes [slave1]</span><br><span class="line">ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 3æœˆ 11 21:27:35 CST 2022pts/0 ä¸Š</span><br><span class="line">[root@master ~]# start-yarn.sh</span><br><span class="line">Starting resourcemanager</span><br><span class="line">ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 3æœˆ 11 21:27:41 CST 2022pts/0 ä¸Š</span><br><span class="line">Starting nodemanagers</span><br><span class="line">ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 3æœˆ 11 21:27:51 CST 2022pts/0 ä¸Š</span><br></pre></td></tr></table></figure>

<h4 id="å¯åŠ¨å-è¾“å…¥-jps-æŸ¥çœ‹"><a href="#å¯åŠ¨å-è¾“å…¥-jps-æŸ¥çœ‹" class="headerlink" title="å¯åŠ¨å è¾“å…¥ jps æŸ¥çœ‹"></a>å¯åŠ¨å è¾“å…¥ jps æŸ¥çœ‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# jps</span><br><span class="line">127729 NameNode</span><br><span class="line">127937 DataNode</span><br><span class="line">14105 Jps</span><br><span class="line">128812 NodeManager</span><br><span class="line">128591 ResourceManager</span><br><span class="line">[root@slave1 hadoop]# jps</span><br><span class="line">121889 NodeManager</span><br><span class="line">121559 SecondaryNameNode</span><br><span class="line">7014 Jps</span><br><span class="line">121369 DataNode</span><br><span class="line">[root@slave2 hadoop]# jps</span><br><span class="line">6673 Jps</span><br><span class="line">121543 NodeManager</span><br><span class="line">121098 DataNode</span><br></pre></td></tr></table></figure>

<h4 id="WEBé¡µé¢"><a href="#WEBé¡µé¢" class="headerlink" title="WEBé¡µé¢"></a>WEBé¡µé¢</h4><h4 id="HDFSé›†ç¾¤"><a href="#HDFSé›†ç¾¤" class="headerlink" title="HDFSé›†ç¾¤"></a>HDFSé›†ç¾¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://master:9870/</span><br></pre></td></tr></table></figure>

<h4 id="YARNé›†ç¾¤"><a href="#YARNé›†ç¾¤" class="headerlink" title="YARNé›†ç¾¤"></a>YARNé›†ç¾¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://master:8088/</span><br></pre></td></tr></table></figure>



<p>Author: Chen Qingtao<br>Email: <a href="mailto:&#x31;&#x35;&#49;&#52;&#51;&#x37;&#57;&#x39;&#48;&#56;&#53;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#109;">&#x31;&#x35;&#49;&#52;&#51;&#x37;&#57;&#x39;&#48;&#56;&#53;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#109;</a></p>

	

	
		<span class="different-posts"><a href="/2022/05/24/Spark/" onclick="window.history.go(-1); return false;">â¬…ï¸ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
